<html>
<head>
  <script src="js/p5.min.js"></script>
  <script src="js/p5.dom.min.js"></script>
  <script src="js/jquery-3.3.1.min.js"></script>
  <script src="js/easing.js"></script>
  <script src="js/noise.js"></script>
  <script src="js/graphs.js"></script>

  <style>
    body {
      background-color: white;
      overflow-y: hidden;
      overflow-x: hidden;
    }

    .graphs-container {
      display: flex;
    }

    #graph1 {
      width: 40%;
      height: 400px;
    }

    #graph2 {
      width: 40%;
      height: 400px;
    }

    #graph3 {
      width: 80%;
      height: 200px;
      margin-top: 100px;
    }

  </style>

</head>
<body>
  <div class="graphs-container">
    <div id="graph1"></div>
    <div id="graph2"></div>
  </div>
  <div id="graph3"></div>

  <script>

    var dataPie = [ {'name': 'manzana', 'val': 33.3},
                    {'name': 'banana', 'val': 6.6},
                    {'name': 'pera', 'val': 10},
                    {'name': 'pomelo', 'val': 30},
                    {'name': 'naranja', 'val': 20} ];

    createPieGraph("Fruta", dataPie, "graph1");

    var dataBar = [ {'name': 'whisky', 'val': 10000},
                    {'name': 'vino', 'val': 25000},
                    {'name': 'cerveza', 'val': 35000},
                    {'name': 'ron', 'val': 10000},
                    {'name': 'vermut', 'val': 20000} ];

    createSimpleBarGraph("Bebidas", dataBar, "graph2");

    // Simulate historical data
    extNoise.seed(Math.random());
    let t = 0;
    let incr = 0.08;
    let hist = [];
    for(let i = 0; i < 200; i++) {
      t += incr;
      hist.push((extNoise.perlin2(t, 0) + 1) * 30);
    }
    t += incr / 2;
    var dataSlide = {'hist': hist, 'newVal': (extNoise.perlin2(t, 0) + 1) * 30};

    createSlidingGraph("Compras", dataSlide, "graph3");

    // Simulate data over time
    let id = setInterval(function() {
      t += incr / 2;
      dataSlide.newVal = (extNoise.perlin2(t, 0) + 1) * 30;
    }, 500);

  </script>
</body>
</html>
